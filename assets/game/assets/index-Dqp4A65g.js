var P=Object.defineProperty;var D=(a,e,t)=>e in a?P(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t;var n=(a,e,t)=>D(a,typeof e!="symbol"?e+"":e,t);import{P as g}from"./phaser-0RJB29YE.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const h of i.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function t(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=t(r);fetch(r.href,i)}})();const C=0,F=400,B=500;class I extends g.Scene{constructor(){super({key:"Boot"});n(this,"progressBar");n(this,"progressText");n(this,"barWidth",200);n(this,"barHeight",8)}preload(){const{width:t,height:o}=this.cameras.main;this.cameras.main.setBackgroundColor(C),this.add.text(t/2,o/2-60,"SILVERTOWN",{fontFamily:"Press Start 2P",fontSize:32,color:"#ffffff"}).setOrigin(.5),this.add.text(t/2,o/2-20,"A portfolio by Matt Silverman",{fontFamily:"Press Start 2P",fontSize:10,color:"#9E9E9E"}).setOrigin(.5);const r=t/2-this.barWidth/2,i=o-60;this.progressBar=this.add.graphics(),this.progressBar.fillStyle(3355443,1),this.progressBar.fillRect(r,i,this.barWidth,this.barHeight),this.progressBar.fillStyle(16777215,1),this.progressText=this.add.text(t/2,i+this.barHeight+12,"0%",{fontFamily:"Press Start 2P",fontSize:10,color:"#ffffff"}).setOrigin(.5),this.load.on("progress",h=>{this.progressBar.clear(),this.progressBar.fillStyle(3355443,1),this.progressBar.fillRect(r,i,this.barWidth,this.barHeight),this.progressBar.fillStyle(16777215,1),this.progressBar.fillRect(r,i,this.barWidth*h,this.barHeight),this.progressText.setText(Math.floor(h*100)+"%")}),this.load.on("complete",()=>{this.progressBar.clear(),this.progressBar.fillStyle(3355443,1),this.progressBar.fillRect(r,i,this.barWidth,this.barHeight),this.progressBar.fillStyle(16777215,1),this.progressBar.fillRect(r,i,this.barWidth,this.barHeight),this.progressText.setText("100%")}),this.load.on("loaderror",()=>{}),this.load.image("serene","/assets/tilesets/serene-village.png"),this.load.spritesheet("player","/assets/sprites/character-spritesheet.png",{frameWidth:32,frameHeight:32}),this.load.image("characters","/assets/sprites/Characters_V3_Colour.png"),this.load.audio("town-bgm","/assets/audio/town-bgm.mp3")}create(){this.time.delayedCall(B,()=>{this.cameras.main.fade(F,0,0,0,!1,(t,o)=>{o===1&&this.scene.start("World")})})}}const c=32,d=40,p=30,R=1280,m=960,O=.1,M=1.8,W=160,s={GRASS:"GRASS",GRASS_D:"GRASS_DARK",PATH:"PATH",PATH_E:"PATH_EDGE",WATER:"WATER",TREE_T:"TREE_TOP",TREE_B:"TREE_BOT",FLOWER:"FLOWER",ROOF_L:"ROOF_L",ROOF_M:"ROOF_M",ROOF_R:"ROOF_R",WALL_L:"WALL_L",WALL_M:"WALL_M",WALL_R:"WALL_R",WINDOW:"WINDOW",DOOR:"DOOR",FENCE_H:"FENCE_H",FENCE_V:"FENCE_V",SAND:"SAND",FIELD:"FIELD_GRASS"},N={[s.GRASS]:{sx:0,sy:0},[s.GRASS_D]:{sx:32,sy:0},[s.PATH]:{sx:64,sy:0},[s.PATH_E]:{sx:96,sy:0},[s.WATER]:{sx:128,sy:0},[s.TREE_T]:{sx:0,sy:64},[s.TREE_B]:{sx:0,sy:96},[s.FLOWER]:{sx:32,sy:64},[s.ROOF_L]:{sx:0,sy:128},[s.ROOF_M]:{sx:32,sy:128},[s.ROOF_R]:{sx:64,sy:128},[s.WALL_L]:{sx:0,sy:160},[s.WALL_M]:{sx:32,sy:160},[s.WALL_R]:{sx:64,sy:160},[s.WINDOW]:{sx:96,sy:160},[s.DOOR]:{sx:128,sy:160},[s.FENCE_H]:{sx:0,sy:192},[s.FENCE_V]:{sx:32,sy:192},[s.SAND]:{sx:64,sy:32},[s.FIELD]:{sx:96,sy:32}};function H(a){return[s.TREE_T,s.TREE_B,s.WATER,s.ROOF_L,s.ROOF_M,s.ROOF_R,s.WALL_L,s.WALL_M,s.WALL_R,s.WINDOW,s.DOOR,s.FENCE_H,s.FENCE_V].includes(a)}function k(){const a=Array.from({length:p},()=>Array(d).fill(s.GRASS));for(let e=0;e<d;e++)a[0][e]=s.TREE_T,a[1][e]=s.TREE_B;for(let e=0;e<d;e++)(e<=1||e>=38)&&(a[2][e]=s.TREE_T,a[3][e]=s.TREE_B);for(let e=0;e<d;e++)a[4][e]=s.PATH;for(let e=5;e<=7;e++){a[e][0]=s.TREE_T,a[e][1]=e===6?s.TREE_B:s.TREE_T;for(let t=2;t<=16;t++)a[e][t]=s.GRASS;a[e][17]=e<=6?s.WATER:s.PATH,a[e][18]=a[e][17];for(let t=19;t<=22;t++)a[e][t]=s.PATH;for(let t=23;t<=37;t++)a[e][t]=s.GRASS;a[e][38]=a[e][1],a[e][39]=s.TREE_T}for(let e=0;e<d;e++)e>=2&&e<=11?a[8][e]=e===2?s.ROOF_L:e===11?s.ROOF_R:s.ROOF_M:e>=28&&e<=37?a[8][e]=e===28?s.ROOF_L:e===37?s.ROOF_R:s.ROOF_M:e>=18&&e<=21?a[8][e]=s.PATH:a[8][e]=s.GRASS;for(let e=0;e<d;e++)e>=2&&e<=11?a[9][e]=e===2?s.ROOF_L:e===11?s.ROOF_R:s.ROOF_M:e>=28&&e<=37?a[9][e]=e===28?s.ROOF_L:e===37?s.ROOF_R:s.ROOF_M:e>=18&&e<=21?a[9][e]=s.PATH:a[9][e]=s.GRASS;for(let e=10;e<=16;e++)for(let t=0;t<d;t++)t>=2&&t<=11?(t===3||t===6)&&(e===11||e===13)?a[e][t]=s.WINDOW:e===16&&(t===6||t===7)?a[e][t]=s.DOOR:a[e][t]=t===2?s.WALL_L:t===11?s.WALL_R:s.WALL_M:t>=28&&t<=37?(t===29||t===32)&&(e===11||e===13)?a[e][t]=s.WINDOW:e===16&&(t===32||t===33)?a[e][t]=s.DOOR:a[e][t]=t===28?s.WALL_L:t===37?s.WALL_R:s.WALL_M:t>=18&&t<=21?a[e][t]=s.PATH:t>=12&&t<=27&&(a[e][t]=s.GRASS);for(let e=17;e<=18;e++)for(let t=14;t<=25;t++)a[e][t]=s.PATH;for(let e=0;e<d;e++)a[19][e]=s.PATH;for(let e=20;e<p;e++)for(let t=0;t<d;t++){if(t===0||t===d-1){a[e][t]=s.FENCE_V;continue}if(e===20&&t>=1&&t<=38){a[e][t]=s.FENCE_H;continue}if(t>=2&&t<=8&&e>=21&&e<=24){t===2||t===8||e===21||e===24?a[e][t]=t===2||t===8?s.FENCE_V:s.FENCE_H:a[e][t]=s.FIELD;continue}const o=e===21&&t===19||e===22&&t>=18&&t<=20||e===23&&t>=17&&t<=22||e===24&&t>=18&&t<=20||e===25&&t===19;e>=21&&o?a[e][t]=s.SAND:e>=21&&(a[e][t]=Math.random()<.12?s.FLOWER:s.FIELD)}return a}const T=[{tileX:20,tileY:3,dialogId:"NPC_PROFESSOR",name:"Professor",color:4504388},{tileX:7,tileY:13,dialogId:"NPC_GRANDMOTHER",name:"Grandma",color:16746666},{tileX:29,tileY:13,dialogId:"NPC_RIVAL",name:"Rival",color:16746564},{tileX:20,tileY:22,dialogId:"NPC_KID_BASEBALL",name:"Kid",color:16768324},{tileX:20,tileY:23,dialogId:"NPC_ROUTE_EXIT",name:"Guide",color:4491519}],E=[{tileX:3,tileY:12,dialogId:"BOOKSHELF",color:7951688},{tileX:7,tileY:12,dialogId:"WATCH_CASE",color:16766720},{tileX:5,tileY:14,dialogId:"RECORD_PLAYER",color:10233776},{tileX:5,tileY:11,dialogId:"KITCHEN_FRIDGE",color:14544639},{tileX:22,tileY:22,dialogId:"GOLF_BAG",color:3046706},{tileX:29,tileY:11,dialogId:"STUDIO_PC",color:1402304},{tileX:34,tileY:13,dialogId:"WHITEBOARD",color:15658734},{tileX:23,tileY:22,dialogId:"CARD_BINDER",color:15022389},{tileX:3,tileY:22,dialogId:"HOCKEY_NET",color:5533306}];class v extends g.Scene{constructor(){super({key:"World"});n(this,"mapData");n(this,"collisionMap",[]);n(this,"mapTexture");n(this,"playerRect");n(this,"playerTileX",20);n(this,"playerTileY",6);n(this,"playerFacing","down");n(this,"playerMoving",!1);n(this,"cursors");n(this,"wasd");n(this,"spaceKey");n(this,"enterKey");n(this,"spaceWasDown",!1);n(this,"enterWasDown",!1)}create(){this.cameras.main.setBackgroundColor(0),this.scene.launch("UI");const t=this.textures.exists("serene")?"serene":"serene48";this.mapData=k(),this.collisionMap=Array.from({length:p},()=>Array(d).fill(0));for(let h=0;h<p;h++)for(let l=0;l<d;l++)l===0||l===d-1||h===0||h===p-1?this.collisionMap[h][l]=1:this.collisionMap[h][l]=H(this.mapData[h][l])?1:0;this.mapTexture=this.add.renderTexture(0,0,R,m),this.mapTexture.setOrigin(0,0),this.mapTexture.setDepth(0);const o=this.add.image(0,0,t).setOrigin(0,0).setVisible(!1);for(let h=0;h<p;h++)for(let l=0;l<d;l++){const f=this.mapData[h][l],u=N[f];u&&(o.setCrop(u.sx,u.sy,c,c),this.mapTexture.draw(o,l*c,h*c))}o.destroy(),this.addZoneLabels();const r=this.playerTileX*c+c/2,i=this.playerTileY*c+c/2;this.playerRect=this.add.rectangle(r,i,28,36,4491519),this.playerRect.setStrokeStyle(2,16777215),this.playerRect.setDepth(20),this.spawnNPCs(),this.spawnObjects(),this.cameras.main.setBounds(0,0,R,m),this.cameras.main.startFollow(this.playerRect,!0,O,O),this.cameras.main.setZoom(M),this.cursors=this.input.keyboard.createCursorKeys(),this.wasd={up:this.input.keyboard.addKey(g.Input.Keyboard.KeyCodes.W),down:this.input.keyboard.addKey(g.Input.Keyboard.KeyCodes.S),left:this.input.keyboard.addKey(g.Input.Keyboard.KeyCodes.A),right:this.input.keyboard.addKey(g.Input.Keyboard.KeyCodes.D)},this.spaceKey=this.input.keyboard.addKey(g.Input.Keyboard.KeyCodes.SPACE),this.enterKey=this.input.keyboard.addKey(g.Input.Keyboard.KeyCodes.ENTER);try{this.sound.add("town-bgm",{loop:!0,volume:.35}).play()}catch{}}spawnNPCs(){for(const t of T){const o=t.tileX*c+c/2,r=t.tileY*c+c/2,i=this.add.rectangle(o,r,24,32,t.color);i.setStrokeStyle(2,16777215),i.setDepth(18)}}spawnObjects(){for(const t of E){const o=t.tileX*c+c/2,r=t.tileY*c+c/2,i=this.add.rectangle(o,r,20,20,t.color);i.setStrokeStyle(2,16766720),i.setDepth(18)}}addZoneLabels(){const t={fontFamily:"Press Start 2P",color:"#ffffff"};this.add.text(640,48,"Silvertown",{...t,fontSize:10}).setOrigin(.5).setAlpha(.8).setDepth(15),this.add.text(240,432,"Matt's Home",{...t,fontSize:7}).setOrigin(.5).setAlpha(.6).setDepth(15),this.add.text(1040,432,"Matt Design",{...t,fontSize:7}).setOrigin(.5).setAlpha(.6).setDepth(15),this.add.text(640,912,"The Field",{...t,fontSize:7}).setOrigin(.5).setAlpha(.6).setDepth(15)}tryMove(t,o){if(this.playerMoving)return;const r=this.playerTileX+t,i=this.playerTileY+o;if(r<0||r>=d||i<0||i>=p||this.collisionMap[i][r]===1||T.some(f=>f.tileX===r&&f.tileY===i))return;this.playerTileX=r,this.playerTileY=i,this.playerMoving=!0,t>0?this.playerFacing="right":t<0?this.playerFacing="left":o>0?this.playerFacing="down":o<0&&(this.playerFacing="up");const h=r*c+c/2,l=i*c+c/2;this.tweens.add({targets:this.playerRect,x:h,y:l,duration:W,ease:"Linear",onComplete:()=>{this.playerMoving=!1}})}getFacingTile(){switch(this.playerFacing){case"up":return{x:this.playerTileX,y:this.playerTileY-1};case"down":return{x:this.playerTileX,y:this.playerTileY+1};case"left":return{x:this.playerTileX-1,y:this.playerTileY};case"right":return{x:this.playerTileX+1,y:this.playerTileY}}}checkInteraction(){const t=this.getFacingTile(),o=T.find(i=>i.tileX===t.x&&i.tileY===t.y);if(o){this.game.events.emit("npc:interact",{dialogId:o.dialogId,name:o.name});return}const r=E.find(i=>i.tileX===t.x&&i.tileY===t.y);r&&this.game.events.emit("object:interact",{dialogId:r.dialogId})}update(){if(this.playerMoving)return;this.cursors.up.isDown||this.wasd.up.isDown?this.tryMove(0,-1):this.cursors.down.isDown||this.wasd.down.isDown?this.tryMove(0,1):this.cursors.left.isDown||this.wasd.left.isDown?this.tryMove(-1,0):(this.cursors.right.isDown||this.wasd.right.isDown)&&this.tryMove(1,0);const t=this.spaceKey.isDown,o=this.enterKey.isDown;(t&&!this.spaceWasDown||o&&!this.enterWasDown)&&this.checkInteraction(),this.spaceWasDown=t,this.enterWasDown=o}}const Y={welcome:"Welcome to Silvertown!",NPC_PROFESSOR:"The town has a rich history. Explore and talk to everyone!",NPC_GRANDMOTHER:"I've lived here my whole life. So many memories.",NPC_RIVAL:"Hey! Ready for our next challenge?",NPC_KID_BASEBALL:"Wow, you have so many cool things!",NPC_ROUTE_EXIT:"The road continues north. Safe travels!",BOOKSHELF:"Books by David McCullough — history and biography.",WATCH_CASE:"A fine RGM watch. American made.",RECORD_PLAYER:"Vintage record player. Jazz and classic rock on the shelf.",KITCHEN_FRIDGE:"Fridge full of snacks. Help yourself!",GOLF_BAG:"Golf clubs. Always ready for a round.",STUDIO_PC:"PC running Makersplace — digital art and collectibles.",WHITEBOARD:"Sketches and project notes for client work.",CARD_BINDER:"Trading card binder — Pokémon and more.",HOCKEY_NET:"Hockey net. Street hockey season never ends.",default:"Nothing interesting here."},x=25,_=2;class K{constructor(){n(this,"visible",!1);n(this,"pages",[]);n(this,"pageIndex",0);n(this,"currentText","");n(this,"displayedLength",0);n(this,"typewriterAccum",0);n(this,"speakerName",null);n(this,"skipTypewriter",!1);n(this,"onPageText",null);n(this,"onVisibility",null);n(this,"onSpeaker",null);n(this,"onClosed",null)}setOnPageText(e){this.onPageText=e}setOnVisibility(e){this.onVisibility=e}setOnSpeaker(e){this.onSpeaker=e}setOnClosed(e){this.onClosed=e}show(e,t){var i,h;const o=Y[e];if(o==null)return;const r=(Array.isArray(o)?o:[o]).flatMap(l=>(typeof l=="string"?l:String(l)).split(`
`));this.pages=[];for(let l=0;l<r.length;l+=_)this.pages.push(r.slice(l,l+_));this.pages.length===0&&this.pages.push([""]),this.pageIndex=0,this.speakerName=t??null,this.visible=!0,(i=this.onVisibility)==null||i.call(this,!0),(h=this.onSpeaker)==null||h.call(this,this.speakerName),this.startPage()}startPage(){var e;this.currentText=this.pages[this.pageIndex].join(`
`),this.displayedLength=0,this.typewriterAccum=0,this.skipTypewriter=!1,(e=this.onPageText)==null||e.call(this,"")}advance(){var e,t,o;if(this.visible){if(this.displayedLength<this.currentText.length){this.displayedLength=this.currentText.length,(e=this.onPageText)==null||e.call(this,this.currentText);return}if(this.pageIndex++,this.pageIndex>=this.pages.length){this.visible=!1,(t=this.onVisibility)==null||t.call(this,!1),(o=this.onClosed)==null||o.call(this);return}this.startPage()}}setSkipTypewriter(e){this.skipTypewriter=e}update(e){var t;if(!(!this.visible||this.skipTypewriter||this.displayedLength>=this.currentText.length))for(this.typewriterAccum+=e;this.typewriterAccum>=x&&this.displayedLength<this.currentText.length;)this.typewriterAccum-=x,this.displayedLength++,(t=this.onPageText)==null||t.call(this,this.currentText.slice(0,this.displayedLength))}isVisible(){return this.visible}isCurrentPageComplete(){return this.displayedLength>=this.currentText.length}close(){var e;this.pages=[],this.visible=!1,(e=this.onVisibility)==null||e.call(this,!1)}}const S=80,y=130,w=150,V=180,G=150,X=450,A=1710618,z=11184810,U=3355443;class j extends g.Scene{constructor(){super({key:"UI"});n(this,"dialogManager");n(this,"boxContainer");n(this,"boxBg");n(this,"text");n(this,"nameTag");n(this,"nameTagBg");n(this,"nameTagText");n(this,"arrow");n(this,"arrowTween",null);n(this,"returnToPortfolioText");n(this,"boxBaseY",0)}create(){this.dialogManager=new K;const t=this.cameras.main,o=t.width,r=t.height;this.boxBaseY=r-w;const i=o-S;this.boxBg=this.add.graphics().setScrollFactor(0).setDepth(1e3),this.drawBox(this.boxBg,i,this.boxBaseY),this.text=this.add.text(o/2-i/2+16,this.boxBaseY+12,"",{fontFamily:"Press Start 2P",fontSize:11,color:"#1a1a1a",lineSpacing:4,wordWrap:{width:i-40}}).setScrollFactor(0).setDepth(1001),this.nameTagBg=this.add.graphics().setScrollFactor(0).setDepth(1002),this.nameTagText=this.add.text(o/2-i/2+16+4,this.boxBaseY-24+4,"",{fontFamily:"Press Start 2P",fontSize:7,color:"#ffffff"}).setScrollFactor(0).setDepth(1003),this.nameTag=this.add.container(0,0,[this.nameTagBg,this.nameTagText]).setScrollFactor(0).setDepth(1002),this.arrow=this.add.text(o/2+i/2-12,this.boxBaseY+y-12,"▼",{fontFamily:"Press Start 2P",fontSize:10,color:"#1a1a1a"}).setOrigin(.5,1).setScrollFactor(0).setDepth(1001),this.boxContainer=this.add.container(0,20,[this.boxBg,this.text,this.nameTag,this.arrow]),this.boxContainer.setAlpha(0),this.boxContainer.setVisible(!1),this.returnToPortfolioText=this.add.text(o/2,r/2,"Return to Portfolio? Press ESC again",{fontFamily:"Press Start 2P",fontSize:10,color:"#ffffff"}).setOrigin(.5).setScrollFactor(0).setDepth(2e3).setVisible(!1),this.dialogManager.setOnPageText(l=>this.text.setText(l)),this.dialogManager.setOnVisibility(l=>{this.boxContainer.setVisible(l),this.registry.set("dialogVisible",l)}),this.dialogManager.setOnSpeaker(l=>{if(l){this.nameTagText.setText(l),this.nameTagText.setVisible(!0);const f=this.nameTagText.width+20,u=18;this.nameTagBg.clear(),this.nameTagBg.fillStyle(A,1),this.nameTagBg.fillRoundedRect(this.text.x-4,this.boxBaseY-24,f,u,4),this.nameTagBg.setVisible(!0)}else this.nameTagText.setVisible(!1),this.nameTagBg.setVisible(!1)}),this.dialogManager.setOnClosed(()=>{this.tweens.add({targets:this.boxContainer,alpha:0,y:20,duration:G,ease:"Power2",onComplete:()=>this.game.events.emit("dialog:closed")})}),this.registry.set("dialogVisible",!1),this.game.events.on("npc:interact",l=>{this.openBox(()=>this.dialogManager.show(l.dialogId,l.speakerName??l.name))}),this.game.events.on("object:interact",l=>{this.openBox(()=>this.dialogManager.show(l.dialogId))}),this.input.keyboard.on("keydown-SPACE",()=>{this.dialogManager.setSkipTypewriter(!0),this.dialogManager.advance()}),this.input.keyboard.on("keydown-ENTER",()=>{this.dialogManager.setSkipTypewriter(!0),this.dialogManager.advance()}),this.input.keyboard.addKey(g.Input.Keyboard.KeyCodes.ESC).on("down",()=>this.onEsc())}onEsc(){if(this.dialogManager.isVisible()){this.dialogManager.close(),this.boxContainer.setVisible(!1),this.registry.set("dialogVisible",!1);return}if(this.returnToPortfolioText.visible){this.game.events.emit("game:exit");return}try{this.scene.get("World").scene.isActive()&&(this.scene.pause("World"),this.returnToPortfolioText.setVisible(!0))}catch{this.game.events.emit("game:exit")}}openBox(t){const o=this.cameras.main,r=o.width,i=r-S;this.boxBaseY=o.height-w,this.boxBg.clear(),this.drawBox(this.boxBg,i,this.boxBaseY),this.text.setPosition(r/2-i/2+16,this.boxBaseY+12),this.nameTagText.setPosition(r/2-i/2+20,this.boxBaseY-24+4),this.arrow.setPosition(r/2+i/2-12,this.boxBaseY+y-12),this.boxContainer.setPosition(0,20),this.boxContainer.setAlpha(0),this.boxContainer.setVisible(!0),this.arrow.setVisible(!1),this.tweens.add({targets:this.boxContainer,alpha:1,y:0,duration:V,ease:"Power2.Out",onComplete:()=>{this.dialogManager.setSkipTypewriter(!1),t()}})}drawBox(t,o,r){const i=(this.cameras.main.width-o)/2;t.fillStyle(16777215,1),t.fillRoundedRect(i,r,o,y,6),t.lineStyle(3,A,1),t.strokeRoundedRect(i,r,o,y,6),t.lineStyle(1,z,1),t.strokeRoundedRect(i+2,r+2,o-4,y-4,4),t.fillStyle(U,1),t.fillRect(i,r+y,o,4)}update(t,o){var r,i;if(this.dialogManager.update(o),this.dialogManager.setSkipTypewriter(!1),this.dialogManager.isVisible()&&this.dialogManager.isCurrentPageComplete()){if(this.arrow.setVisible(!0),!((r=this.arrowTween)!=null&&r.isPlaying())){const h=this.arrow.y;this.arrowTween=this.tweens.add({targets:this.arrow,y:h-4,duration:X/2,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"})}}else this.arrow.setVisible(!1),(i=this.arrowTween)==null||i.remove(),this.arrowTween=null}}function b(){const a=window.innerWidth||800,e=window.innerHeight||600;return{width:Math.max(320,a),height:Math.max(240,e)}}function L(){const{width:a,height:e}=b(),t={type:g.AUTO,width:a,height:e,backgroundColor:"#000000",parent:"game",pixelArt:!0,roundPixels:!0,scale:{mode:g.Scale.RESIZE,autoCenter:g.Scale.CENTER_BOTH},physics:{default:"arcade",arcade:{gravity:{x:0,y:0},debug:!1}},scene:[I,v,j]},o=new g.Game(t);window.game=o,window.addEventListener("resize",()=>{const{width:r,height:i}=b();o.scale.resize(r,i)})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",L):L();
